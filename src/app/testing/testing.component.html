<app-page-container
  [title]="title"
  [sections]="sections"
  [sectionTitles]="sectionTitles"
  [getIdFromTitle]="getIdFromTitle"
  >
  <app-section-container>
    <div class="title" [id]="getIdFromTitle(sectionTitles[0])" title>{{ sectionTitles[0] }}</div>
    <div class="description-container">
      <div class="item">
       The original .component.spec.ts looks like the following code.
      </div>
      <div class="item">
        The problem is that test modules can't be teared down after each test. 
      </div>
      <div class="item">
        <app-code-container key="testingComponent">
        </app-code-container>
      </div>
    </div>
  </app-section-container>

  <app-section-container>
    <div class="title" [id]="getIdFromTitle(sectionTitles[1])" title>{{ sectionTitles[1] }}</div>
    <div class="description-container">
      <div class="item">
        In v13, there are two ways to tear down the environment and the module.
      </div>
      <div class="item">
        <ol>
          <li>
            <div class="item">
              Before run every tests (safer way): add the teardown parameter from the TestBed.configureTestingModuleto enable destroyAfterEach.
            </div>
            <div class="item">
              <app-code-container key="testComponent2">
              </app-code-container>  
            </div>
          </li>
          <li>
            <div class="item">
              Before run all tests
            </div>
            <div class="item">
              <ul>
                <li>
                  <div class="item">
                    <a href="https://angular.io/api/core/testing/TestBed#resetTestEnvironment">
                      TestBed.resetTestEnvironment
                    </a>: reset the providers for the test injector.
                  </div>
                </li>
                <li>
                  <div class="item">
                    <a href="https://angular.io/api/core/testing/TestBed#initTestEnvironment">
                      TestBed.initTestEnvironment
                    </a>: initialize the environment for testing with a compiler factory, a PlatformRef, and an angular module.
                  </div>
                </li>
              </ul>
            </div>
            <div class="item">
              <app-code-container key="testComponent">
              </app-code-container>  
            </div>
          </li>
        </ol>
      </div>
      <div class="item">
        <b>destroyAfterEach</b>
      </div>
      <div class="item">
        When we enable destroyAfterEach, the following issues will be solved.
        <a href="https://dev.to/this-is-angular/improving-angular-tests-by-enabling-angular-testing-module-teardown-38kh">
          (references)
        </a></div>
      <div class="item">
        <ul>
          <li>
            <div class="item">
              The host element is not removed from the DOM until another component fixture is created
            </div>
          </li>
          <li>
            <div class="item">
              Component styles are never removed from the DOM
            </div>
          </li>
          <li>
            <div class="item">
              Application-wide services are never destroyed
            </div>
          </li>
          <li>
            <div class="item">
              Feature-level services using the any provider scope are never destroyed
            </div>
          </li>
          <li>
            <div class="item">
              Angular modules are never destroyed
            </div>
          </li>
          <li>
            <div class="item">
              Components are destroyed 1 time less than the number of tests
            </div>
          </li>
          <li>
            <div class="item">
              Component-level services are destroyed 1 time less than the number of tests
            </div>
          </li>
        </ul>
      </div>
      <div class="item">
        The followig result demostrates that the test module is teared down after each test. 
      </div>
      <div class="item">
        <div class="image-container">
          <img src="../../assets/image/testing.png" alt=""> 
        </div>   
      </div>
    </div>
  </app-section-container>

  <!-- reference -->
  <app-section-container>
    <div class="title" [id]="getIdFromTitle(sectionTitles[2])" title>{{ sectionTitles[2] }}</div>
    <div class="reference-container">
      <div class="item">
        <app-reference-container [references]="referencesMap">
        </app-reference-container>
      </div>
    </div>
  </app-section-container>
</app-page-container>